<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" type="text/css" href="js/User/css/task.css">
    <script type="text/javascript" src="js/jquery-2.0.3.min.js"></script>
</head>
<body style="">

<div id="app"></div>
{{--<script src="{{ mix('js/app.js') }}"></script>--}}

<div class="bigboxlearn">
    <div class="learnfont">
        <div class="learnfontback">
            <p><a href="/index.php/User/Checkpoint/index/id/11.html">返回 &lt;</a></p>
            <p class="timeshow">2019-10-16 &nbsp;07: 29: 07</p>
        </div>
        <div class="learntitle">作业题目1</div>
    </div>
    <div class="learnlist">
        <div class="learnlistnr">
            <div class="learnlistnr_list">
                <div class="learnlistnr_list_cont"><p><span
                                style="color: rgb(255, 255, 255); background-color: #272c36;">&nbsp; &nbsp; &nbsp; &nbsp; 2.Lorem ipsum dolor sit amet, consectetur adipiscing elit</span>
                    </p>
                    <p><br></p>
                    <p><br></p>
                    <p><span style="color: rgb(255, 255, 255); background-color: #272c36;">书写代码：</span></p>
                    <p>
                        <span style="color: rgb(255, 255, 255); background-color:#272c36;">&nbsp; &nbsp; class Untitled {</span>
                    </p>
                    <p><span style="color: rgb(255, 255, 255); background-color: #272c36;">public static void main(String[] args) {<span
                                    style="color: rgb(255, 255, 255); background-color: rgb(38, 38, 38);"></span></span>
                    </p>
                    <p><span style="color: rgb(255, 255, 255); background-color: #272c36;">System.out.println("java编译器");</span>
                    </p>
                    <p><span style="color: rgb(255, 255, 255); background-color: #272c36;">}</span></p>
                    <p><span style="color: rgb(255, 255, 255); background-color: #272c36;">}</span></p>
                    <p><span style="color: rgb(255, 255, 255); background-color: #272c36;">书写代码：</span></p>
                    <p><span style="color: rgb(255, 255, 255); background-color: #272c36;">&nbsp; &nbsp; class Untitled {</span>
                    </p>
                    <p><span style="color: rgb(255, 255, 255); background-color: #272c36;">public static void main(String[] args) {</span>
                    </p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">System.out.println("java编译器");</span>
                    </p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">}</span></p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">}</span></p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">题目讲解：</span></p>
                    <p><br></p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">&nbsp; &nbsp; &nbsp; &nbsp; 1.Lorem ipsum dolor sit amet, consectetur adipiscing elit</span>
                    </p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">&nbsp; &nbsp; &nbsp; &nbsp; 2.Lorem ipsum dolor sit amet, consectetur adipiscing elit</span>
                    </p>
                    <p><br></p>
                    <p><br></p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">书写代码：</span></p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">&nbsp; &nbsp; class Untitled {</span>
                    </p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">public static void main(String[] args) {</span>
                    </p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">System.out.println("java编译器");</span>
                    </p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">}</span></p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">}</span></p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">书写代码：</span></p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">&nbsp; &nbsp; class Untitled {</span>
                    </p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">public static void main(String[] args) {</span>
                    </p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">System.out.println("java编译器");</span>
                    </p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">}</span></p>
                    <p><span style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">}</span></p>
                    <p><br></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(39, 44, 54);">书写代码：</span></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(39, 44, 54);">&nbsp; &nbsp; class Untitled {</span>
                    </p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(39, 44, 54);">public static void main(String[] args) {<span
                                    style="background-color: rgb(38, 38, 38);"></span></span></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(39, 44, 54);">System.out.println("java编译器");</span>
                    </p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(39, 44, 54);">}</span></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(39, 44, 54);">}</span></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(39, 44, 54);">书写代码：</span></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(39, 44, 54);">&nbsp; &nbsp; class Untitled {</span>
                    </p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(39, 44, 54);">public static void main(String[] args) {</span>
                    </p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">System.out.println("java编译器");</span>
                    </p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">}</span></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">}</span></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">题目讲解：</span></p>
                    <p style="white-space: normal;"><br></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">&nbsp; &nbsp; &nbsp; &nbsp; 1.Lorem ipsum dolor sit amet, consectetur adipiscing elit</span>
                    </p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">&nbsp; &nbsp; &nbsp; &nbsp; 2.Lorem ipsum dolor sit amet, consectetur adipiscing elit</span>
                    </p>
                    <p style="white-space: normal;"><br></p>
                    <p style="white-space: normal;"><br></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">书写代码：</span></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">&nbsp; &nbsp; class Untitled {</span>
                    </p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">public static void main(String[] args) {</span>
                    </p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">System.out.println("java编译器");</span>
                    </p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">}</span></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">}</span></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">书写代码：</span></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">&nbsp; &nbsp; class Untitled {</span>
                    </p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">public static void main(String[] args) {</span>
                    </p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">System.out.println("java编译器");</span>
                    </p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">}</span></p>
                    <p style="white-space: normal;"><span
                                style="color: rgb(255, 255, 255); background-color: rgb(63, 63, 63);">}</span></p>
                    <p><br></p></div>
            </div>
            <div class="learnlistnr_btn">
                <button class="nextgard" numid="65">下一关</button>
            </div>
        </div>
        <div class="learnlistby">
            <div class="learnlistbynr">
                <div class="learnlistbynr-div">
                        <textarea class="readinput" id="readinput" num='import java.util.Scanner;

class HelloWorld{
    public static void main(String[] args) {
     //创建键盘录入对象
     Scanner scan = new Scanner(System.in);
     //提示用户输入信息
     System.out.println("请输入你的数据...");
    //接受键盘录入赋值给double类型的height
    double height = scan.nextDouble();
    System.out.println("你输出的数据是:"+height);
    }
}
                    '>
import java.util.Scanner;

class HelloWorld{
    public static void main(String[] args) {
     //创建键盘录入对象
     Scanner scan = new Scanner(System.in);
     //提示用户输入信息
     System.out.println("请输入你的数据...");
     //接受键盘录入赋值给double类型的height
     double height = scan.nextDouble();
     System.out.println("你输出的数据是:"+height);
   }
}
                        </textarea>
                </div>
                <button class="inputcz" id="inputcz">重置</button>
                <button class="inputyx" id="inputyx" keyid="75101" num="1">运行</button>
            </div>
            <div class="learnlistbyan">
                <div class="learnlistbyan-div">
                    <textarea class="outinput" id="outinput" placeholder="终端:"></textarea>
                </div>
                <button class="inputcx">重做</button>
                <!-- <button class="inputqz">求助</button>   -->
                <button class="inputfx">分享</button>
                <!-- <div class="learnlistbyan_show">程序运行错误，<a href="javascript:;" aid='' num='1'>跳过本题</a></div> -->

            </div>
        </div>
        <div class="clear"></div>
    </div>
</div>


<!-- 求助弹窗 -->
<div class="bighelp">
    <div class="help">
        <div class="helpx"><img src="js/images/x.png" alt=""></div>
        <div class="helplist"></div>
        <div class="helpbtn">
            <div class="helpbtn-tipe">
                <!-- <div>我在 <span></span> 遇到了问题</div> -->
                <div>完成了 <span>{typename}</span></div>
                <p>运行代码:</p>
                <textarea class="helpbtn-tipe1"></textarea>
                <p>运行结果:</p>
                <textarea class="helpbtn-tipe2"></textarea>
            </div>
            <div class="helpbtn-img">
                <img src="">
                <p>微信扫描上方二维码</p>
            </div>
        </div>
    </div>
</div>
<!-- 求助弹窗 -->

<!-- 体验弹窗 -->
<div class="bigrush">
    <div class="rush">
        <div class="rushx"><img src="js/User/images/x.png" alt=""></div>
        <div class="rushlist">
            <p>同学，你当前的课程已体验完了，很高兴与你相伴，小法在后面关卡等着你噢！</p>
            <img src="js/User/images/java.png" alt="">
            <p><a href="/index.php/User/Buyclass/classdetails/id/5.html">立 即 购 买</a></p>
            <p>购买后可立即解锁课程</p>
        </div>
    </div>
</div>
<!-- 体验弹窗 -->
<!-- 提示弹窗 -->
<div class="prompt">
    <!-- <div class="promptx"><img src="js/User/images/x.png" alt=""></div> -->
    <div class="promptlist">
        <p>程序已运行，如需重新运行请点击重做</p>
    </div>
</div>
<!-- 提示弹窗 -->

<!-- 提示弹窗 -->
<div class="bigtips">
    <div class="tips">
        <div class="tipsx"><img src="js/User/images/x.png" alt=""></div>
        <div class="tipslistone"><img src="js/User/images/zy5.png" alt=""></div>
        <div class="tipslisttwo">
            <p>作业未做完噢!</p>
            <p>需要做完作业才可继续下一关噢!</p>
            <p>课后作业是学习的重要一步,加油噢!</p>
            <!-- <button>作 业 题 目</button> -->
        </div>
    </div>
</div>
<!-- 提示弹窗 -->
<!-- 课程全部完成提示弹窗 -->
<div class="classbigtips">
    <div class="classtips">
        <div class="classtipsx"><img src="js/User/images/x.png" alt=""></div>
        <div class="classtipslistone"><img src="js/User/images/zy5.png" alt=""></div>
        <div class="classtipslisttwo">
            <p>本课程已经学习完成啦！</p>
        </div>
    </div>
</div>
<!-- 课程全部完成提示弹窗 -->


<script type="text/javascript" src="js/User/js/task.js"></script>

<script type="text/javascript">
    // 分享
    $('.inputfx').click(function () {
        $('.bighelp').css('display', 'block');
        var readinput_mag1 = $('.readinput').val();
        $('.helpbtn-tipe1').val(readinput_mag1);
        var readinput_mag2 = $('.outinput').val();
        $('.helpbtn-tipe2').val(readinput_mag2);
        var title = $('.learntitle').html();
        $.ajax({
            'type': 'post',
            'url': '/index.php/User/Qrcode/qrcode.html',
            'data': 'title=' + title + '&pro=' + readinput_mag1 + '&answer=' + readinput_mag2 + '&codetype=1',
            'dataType': 'json',
            success: function (msg) {
                $('.helpbtn-img img').attr('src', msg);
                // console.log(msg)
            }
        })
    })
    // 下一关
    $('.nextgard').click(function () {
        var numid = parseInt($(this).attr('numid'));
        var cardall = parseInt(6);
        var cardnow = parseInt(5);
        // if(cardall==cardnow){alert('课程学习完成！！');return;}
        $.ajax({
            'type': 'post',
            'url': '/index.php/User/Learn/nextgard.html',
            'data': 'id=' + numid,
            'dataType': 'json',
            success: function (msg) {
                if (msg.error > 0) {
                    window.location.href = "/index.php/User/Learn/gard/id/" + msg.error;
                    return;
                }
                switch (msg.error) {
                    case -1:
                        $('.bigtips').css('display', 'block');
                        break;
                    case -2:
                        $('.bigrush').css('display', 'block');
                        break;
                    case -3:
                        $('.classbigtips').css('display', 'block');
                        break;
                    default:
                        alert('未知错误！！');
                        break;
                }
            }
        })

    })
    function click_grad() {
        var weshow = 2;
        var id = 65;
        if (weshow == 1) {
            /*首次作业，执行操作*/
            $.ajax({
                'type': 'post',
                'url': '/index.php/User/Learn/opengard.html',
                'data': 'id=' + id,
                'dataType': 'json',
                success: function (msg) {
                }
            })

        }
    }
    // click_grad()
</script>
<script>
    /*
     提示定时器
     */
    //    function TSsetTimeout(){
    //        $('.prompt').fadeOut(1000);
    //    }

    var prevStr = '';
    var baseUrl = 'http://132.232.198.253:8181';

    function getInput(prev, cur) {
        var s = ''
        for (var i = prev.length; i < cur.length; i++) {
            s += cur[i];
        }
        return s;
    }

    $(function () {

        function guid() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
                var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }

        var key = guid();

        var grttime
        $('#inputyx').click(function () {
            var num = $(this).attr('num');
            if (num == 1) {
                prevStr = '';
                $.ajax({
                    type: 'post',
                    url: baseUrl + '/compile',
                    dataType: 'json',
                    data: {
                        key: key,
                        source: $('#readinput').val(),
                        timeout: 30000,
                        push: baseUrl + '/output'
                    },
                    success: function (d) {
                        error_num = 1;
                        $('.helpbtn-tipe textarea').val('')
                        if (d.errCode != 0) {
                            $('#outinput').val(d.msg);
                            $('.helpbtn-tipe textarea').val(d.msg)

                        } else {
                            $('#outinput').val('');
                            grttime = window.setInterval(get_massage, 2000)

                            // click_grad()
                        }
                    }
                })
                $(this).attr('num', 2);
                // 消息推送
                // setInterval(function () {
                //     $.get(baseUrl + '/getOutput?key=' + key, function (data) {
                //         var t = $('#outinput').val() + data.output;
                //         $('#outinput').val(t);
                //         prevStr = $('#outinput').val();
                //     console.log(t)
                //     }, 'json');
                // }, 4000)
            } else {
                $('.prompt').fadeIn(1000);
                var t2 = window.setTimeout("TSsetTimeout()", 3000);//使用字符串执行方法
            }
        });
        var error_num = 1;

        function get_massage() {
            // console.log(11111)
            $.get(baseUrl + '/getOutput?key=' + key, function (data) {
                var t = $('#outinput').val() + data.output;
                $('#outinput').val(t);
                prevStr = $('#outinput').val();
                if (data['type'] == 'stderr') {
                    var mag_str = $('.helpbtn-tipe textarea').val();
                    $('.helpbtn-tipe textarea').val(mag_str + data.output);

                    error_num = 2;
                }
                if (data.output == '进程退出.') {
                    if (error_num == 2) {
                        // var num=parseInt($('.inputyx').attr('num'));
                        // $('.learnlistbyan_show').css('display','block');
                    } else {
                        $('.inputfx').css('display', 'block')
                        click_grad()
                    }
                }
            }, 'json');
        }

        $('#clear').click(function () {
            $('#readinput').val('');
        });

        $('#outinput').keyup(function (event) {

            if (event.keyCode == 13) {
                var lines = $('#outinput').val();

                // console.log(prevStr.length);
                // console.log(lines.length);

                var input = getInput(prevStr, lines);

                prevStr = lines;

                console.log('input:', input);

                $.ajax({
                    type: 'post',
                    url: baseUrl + '/input',
                    dataType: 'json',
                    data: {key: key, input: input + '\n'},
                    success: function (d) {
                        // console.log(d)
                    }
                })
            }
        });
    })
</script>
</body>

</html>